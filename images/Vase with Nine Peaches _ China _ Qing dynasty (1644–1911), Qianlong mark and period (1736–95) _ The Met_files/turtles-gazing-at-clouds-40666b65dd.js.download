!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return-1!=n&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],o=0;o<i.length;o++){var s=i[o];n&&n[s]&&(this.off(e,s),delete n[s]),s.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(t,i){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(e){return i(t,e)}):"object"==typeof module&&module.exports?module.exports=i(t,require("ev-emitter")):t.imagesLoaded=i(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){var s=t.jQuery,r=t.console;function h(e,t){for(var i in t)e[i]=t[i];return e}var a=Array.prototype.slice;function d(e,t,i){if(!(this instanceof d))return new d(e,t,i);var n,o=e;("string"==typeof e&&(o=document.querySelectorAll(e)),o)?(this.elements=(n=o,Array.isArray(n)?n:"object"==typeof n&&"number"==typeof n.length?a.call(n):[n]),this.options=h({},this.options),"function"==typeof t?i=t:h(this.options,t),i&&this.on("always",i),this.getImages(),s&&(this.jqDeferred=new s.Deferred),setTimeout(this.check.bind(this))):r.error("Bad element for imagesLoaded "+(o||e))}(d.prototype=Object.create(e.prototype)).options={},d.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},d.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&m[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var s=e.querySelectorAll(this.options.background);for(n=0;n<s.length;n++){var r=s[n];this.addElementBackgroundImages(r)}}}};var m={1:!0,9:!0,11:!0};function i(e){this.img=e}function n(e,t){this.url=e,this.element=t,this.img=new Image}return d.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,e),n=i.exec(t.backgroundImage)}},d.prototype.addImage=function(e){var t=new i(e);this.images.push(t)},d.prototype.addBackground=function(e,t){var i=new n(e,t);this.images.push(i)},d.prototype.check=function(){var n=this;function t(e,t,i){setTimeout(function(){n.progress(e,t,i)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},d.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&r&&r.log("progress: "+i,e,t)},d.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},(i.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},i.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(d.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((s=e).fn.imagesLoaded=function(e,t){return new d(this,e,t).jqDeferred.promise(s(this))})})(),d});
"use strict";!function(x){x.attrFn=x.attrFn||{};var t=navigator.userAgent.toLowerCase(),e=-1<t.indexOf("chrome")&&(-1<t.indexOf("windows")||-1<t.indexOf("macintosh")||-1<t.indexOf("linux"))&&t.indexOf("mobile")<0&&t.indexOf("android")<0,y={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:"ontouchstart"in window&&!e,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:"ontouchstart"in window&&!e?"touchstart":"mousedown",endevent:"ontouchstart"in window&&!e?"touchend":"mouseup",moveevent:"ontouchstart"in window&&!e?"touchmove":"mousemove",tapevent:"ontouchstart"in window&&!e?"tap":"click",scrollevent:"ontouchstart"in window&&!e?"touchmove":"scroll",hold_timer:null,tap_timer:null};x.isTouchCapable=function(){return y.touch_capable},x.getStartEvent=function(){return y.startevent},x.getEndEvent=function(){return y.endevent},x.getMoveEvent=function(){return y.moveevent},x.getTapEvent=function(){return y.tapevent},x.getScrollEvent=function(){return y.scrollevent},x.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(t,e){x.fn[e]=function(t){return t?this.on(e,t):this.trigger(e)},x.attrFn[e]=!0}),x.event.special.swipe={setup:function(){var d,l=x(this),g=!1,f=!1,w={x:0,y:0},v={x:0,y:0};l.on(y.startevent,function t(e){(l=x(e.currentTarget)).data("callee1",t),w.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,w.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,v.x=w.x,v.y=w.y,g=!0;var o=e.originalEvent;d={position:{x:y.touch_capable?o.touches[0].screenX:e.screenX,y:y.touch_capable?o.touches[0].screenY:e.screenY},offset:{x:y.touch_capable?Math.round(o.changedTouches[0].pageX-l.offset().left):Math.round(e.pageX-l.offset().left),y:y.touch_capable?Math.round(o.changedTouches[0].pageY-l.offset().top):Math.round(e.pageY-l.offset().top)},time:Date.now(),target:e.target}}),l.on(y.moveevent,function t(e){var o;(l=x(e.currentTarget)).data("callee2",t),v.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,v.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY;var n=l.parent().data("xthreshold")?l.parent().data("xthreshold"):l.data("xthreshold"),a=l.parent().data("ythreshold")?l.parent().data("ythreshold"):l.data("ythreshold"),i=void 0!==n&&!1!==n&&parseInt(n)?parseInt(n):y.swipe_h_threshold,s=void 0!==a&&!1!==a&&parseInt(a)?parseInt(a):y.swipe_v_threshold;if(w.y>v.y&&w.y-v.y>s&&(o="swipeup"),w.x<v.x&&v.x-w.x>i&&(o="swiperight"),w.y<v.y&&v.y-w.y>s&&(o="swipedown"),w.x>v.x&&w.x-v.x>i&&(o="swipeleft"),null!=o&&g){w.x=0,w.y=0,v.x=0,v.y=0,g=!1;var r=e.originalEvent,p={position:{x:y.touch_capable?r.touches[0].screenX:e.screenX,y:y.touch_capable?r.touches[0].screenY:e.screenY},offset:{x:y.touch_capable?Math.round(r.changedTouches[0].pageX-l.offset().left):Math.round(e.pageX-l.offset().left),y:y.touch_capable?Math.round(r.changedTouches[0].pageY-l.offset().top):Math.round(e.pageY-l.offset().top)},time:Date.now(),target:e.target},h=Math.abs(d.position.x-p.position.x),c=Math.abs(d.position.y-p.position.y),u={startEvnt:d,endEvnt:p,direction:o.replace("swipe",""),xAmount:h,yAmount:c,duration:p.time-d.time};f=!0,l.trigger("swipe",u).trigger(o,u)}}),l.on(y.endevent,function t(e){var o="";if((l=x(e.currentTarget)).data("callee3",t),f){var n=l.data("xthreshold"),a=l.data("ythreshold"),i=void 0!==n&&!1!==n&&parseInt(n)?parseInt(n):y.swipe_h_threshold,s=void 0!==a&&!1!==a&&parseInt(a)?parseInt(a):y.swipe_v_threshold,r=e.originalEvent,p={position:{x:y.touch_capable?r.changedTouches[0].screenX:e.screenX,y:y.touch_capable?r.changedTouches[0].screenY:e.screenY},offset:{x:y.touch_capable?Math.round(r.changedTouches[0].pageX-l.offset().left):Math.round(e.pageX-l.offset().left),y:y.touch_capable?Math.round(r.changedTouches[0].pageY-l.offset().top):Math.round(e.pageY-l.offset().top)},time:Date.now(),target:e.target};d.position.y>p.position.y&&d.position.y-p.position.y>s&&(o="swipeup"),d.position.x<p.position.x&&p.position.x-d.position.x>i&&(o="swiperight"),d.position.y<p.position.y&&p.position.y-d.position.y>s&&(o="swipedown"),d.position.x>p.position.x&&d.position.x-p.position.x>i&&(o="swipeleft");var h=Math.abs(d.position.x-p.position.x),c=Math.abs(d.position.y-p.position.y),u={startEvnt:d,endEvnt:p,direction:o.replace("swipe",""),xAmount:h,yAmount:c,duration:p.time-d.time};l.trigger("swipeend",u)}f=g=!1})},remove:function(){x(this).off(y.startevent,x(this).data.callee1).off(y.moveevent,x(this).data.callee2).off(y.endevent,x(this).data.callee3)}};var o,n,a=x(window),i={0:!0,180:!0};if(y.orientation_support){var s=window.innerWidth||a.width(),r=window.innerHeight||a.height();o=r<s&&50<s-r,n=i[window.orientation],(o&&n||!o&&!n)&&(i={"-90":!0,90:!0})}x.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},function(t,e){x.event.special[t]={setup:function(){x(this).on(e,x.noop)}}})}(jQuery);
"use strict";!function(_){_.attrFn=_.attrFn||{};var e=navigator.userAgent.toLowerCase(),t=-1<e.indexOf("chrome")&&(-1<e.indexOf("windows")||-1<e.indexOf("macintosh")||-1<e.indexOf("linux"))&&e.indexOf("mobile")<0&&e.indexOf("android")<0,T={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:"ontouchstart"in window&&!t,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:"ontouchstart"in window&&!t?"touchstart":"mousedown",endevent:"ontouchstart"in window&&!t?"touchend":"mouseup",moveevent:"ontouchstart"in window&&!t?"touchmove":"mousemove",tapevent:"ontouchstart"in window&&!t?"tap":"click",scrollevent:"ontouchstart"in window&&!t?"touchmove":"scroll",hold_timer:null,tap_timer:null};_.isTouchCapable=function(){return T.touch_capable},_.getStartEvent=function(){return T.startevent},_.getEndEvent=function(){return T.endevent},_.getMoveEvent=function(){return T.moveevent},_.getTapEvent=function(){return T.tapevent},_.getScrollEvent=function(){return T.scrollevent},_.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(e,t){_.fn[t]=function(e){return e?this.on(t,e):this.trigger(t)},_.attrFn[t]=!0}),_.event.special.tapstart={setup:function(){var n=this,i=_(n);i.on(T.startevent,function e(t){if(i.data("callee",e),t.which&&1!==t.which)return!1;var a=t.originalEvent,o={position:{x:T.touch_capable?a.touches[0].screenX:t.screenX,y:T.touch_capable?a.touches[0].screenY:t.screenY},offset:{x:T.touch_capable?Math.round(a.changedTouches[0].pageX-i.offset().left):Math.round(t.pageX-i.offset().left),y:T.touch_capable?Math.round(a.changedTouches[0].pageY-i.offset().top):Math.round(t.pageY-i.offset().top)},time:Date.now(),target:t.target};return x(n,"tapstart",t,o),!0})},remove:function(){_(this).off(T.startevent,_(this).data.callee)}},_.event.special.tapmove={setup:function(){var n=this,i=_(n);i.on(T.moveevent,function e(t){i.data("callee",e);var a=t.originalEvent,o={position:{x:T.touch_capable?a.touches[0].screenX:t.screenX,y:T.touch_capable?a.touches[0].screenY:t.screenY},offset:{x:T.touch_capable?Math.round(a.changedTouches[0].pageX-i.offset().left):Math.round(t.pageX-i.offset().left),y:T.touch_capable?Math.round(a.changedTouches[0].pageY-i.offset().top):Math.round(t.pageY-i.offset().top)},time:Date.now(),target:t.target};return x(n,"tapmove",t,o),!0})},remove:function(){_(this).off(T.moveevent,_(this).data.callee)}},_.event.special.tapend={setup:function(){var n=this,i=_(n);i.on(T.endevent,function e(t){i.data("callee",e);var a=t.originalEvent,o={position:{x:T.touch_capable?a.changedTouches[0].screenX:t.screenX,y:T.touch_capable?a.changedTouches[0].screenY:t.screenY},offset:{x:T.touch_capable?Math.round(a.changedTouches[0].pageX-i.offset().left):Math.round(t.pageX-i.offset().left),y:T.touch_capable?Math.round(a.changedTouches[0].pageY-i.offset().top):Math.round(t.pageY-i.offset().top)},time:Date.now(),target:t.target};return x(n,"tapend",t,o),!0})},remove:function(){_(this).off(T.endevent,_(this).data.callee)}},_.event.special.taphold={setup:function(){var l,d=this,g=_(d),f={x:0,y:0},v=0,w=0;g.on(T.startevent,function r(c){if(c.which&&1!==c.which)return!1;g.data("tapheld",!1),l=c.target;var s=c.originalEvent,h=Date.now(),p={x:T.touch_capable?s.touches[0].screenX:c.screenX,y:T.touch_capable?s.touches[0].screenY:c.screenY},u={x:T.touch_capable?s.touches[0].pageX-s.touches[0].target.offsetLeft:c.offsetX,y:T.touch_capable?s.touches[0].pageY-s.touches[0].target.offsetTop:c.offsetY};return f.x=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageX:c.pageX,f.y=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageY:c.pageY,v=f.x,w=f.y,T.hold_timer=window.setTimeout(function(){var e=f.x-v,t=f.y-w;if(c.target==l&&(f.x==v&&f.y==w||e>=-T.tap_pixel_range&&e<=T.tap_pixel_range&&t>=-T.tap_pixel_range&&t<=T.tap_pixel_range)){g.data("tapheld",!0);var a=Date.now(),o={x:T.touch_capable?s.touches[0].screenX:c.screenX,y:T.touch_capable?s.touches[0].screenY:c.screenY},n={x:T.touch_capable?Math.round(s.changedTouches[0].pageX-g.offset().left):Math.round(c.pageX-g.offset().left),y:T.touch_capable?Math.round(s.changedTouches[0].pageY-g.offset().top):Math.round(c.pageY-g.offset().top)},i={startTime:h,endTime:a,startPosition:p,startOffset:u,endPosition:o,endOffset:n,duration:a-h,target:c.target};g.data("callee1",r),x(d,"taphold",c,i)}},T.taphold_threshold),!0}).on(T.endevent,function e(){g.data("callee2",e),g.data("tapheld",!1),window.clearTimeout(T.hold_timer)}).on(T.moveevent,function e(t){g.data("callee3",e),v=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,w=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY})},remove:function(){_(this).off(T.startevent,_(this).data.callee1).off(T.endevent,_(this).data.callee2).off(T.moveevent,_(this).data.callee3)}},_.event.special.doubletap={setup:function(){var r,c,s,h=this,p=_(h),u=null,l=!1;p.on(T.startevent,function e(t){return(!t.which||1===t.which)&&(p.data("doubletapped",!1),r=t.target,p.data("callee1",e),s=t.originalEvent,u=u||{position:{x:T.touch_capable?s.touches[0].screenX:t.screenX,y:T.touch_capable?s.touches[0].screenY:t.screenY},offset:{x:T.touch_capable?Math.round(s.changedTouches[0].pageX-p.offset().left):Math.round(t.pageX-p.offset().left),y:T.touch_capable?Math.round(s.changedTouches[0].pageY-p.offset().top):Math.round(t.pageY-p.offset().top)},time:Date.now(),target:t.target},!0)}).on(T.endevent,function e(t){var a=Date.now(),o=a-(p.data("lastTouch")||a+1);if(window.clearTimeout(c),p.data("callee2",e),o<T.doubletap_int&&t.target==r&&100<o){p.data("doubletapped",!0),window.clearTimeout(T.tap_timer);var n={position:{x:T.touch_capable?t.originalEvent.changedTouches[0].screenX:t.screenX,y:T.touch_capable?t.originalEvent.changedTouches[0].screenY:t.screenY},offset:{x:T.touch_capable?Math.round(s.changedTouches[0].pageX-p.offset().left):Math.round(t.pageX-p.offset().left),y:T.touch_capable?Math.round(s.changedTouches[0].pageY-p.offset().top):Math.round(t.pageY-p.offset().top)},time:Date.now(),target:t.target},i={firstTap:u,secondTap:n,interval:n.time-u.time};l||(x(h,"doubletap",t,i),u=null),l=!0,window.setTimeout(function(){l=!1},T.doubletap_int)}else p.data("lastTouch",a),c=window.setTimeout(function(){u=null,window.clearTimeout(c)},T.doubletap_int,[t]);p.data("lastTouch",a)})},remove:function(){_(this).off(T.startevent,_(this).data.callee1).off(T.endevent,_(this).data.callee2)}},_.event.special.singletap={setup:function(){var i=this,r=_(i),c=null,s=null,h={x:0,y:0};r.on(T.startevent,function e(t){return(!t.which||1===t.which)&&(s=Date.now(),c=t.target,r.data("callee1",e),h.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,h.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,!0)}).on(T.endevent,function e(a){if(r.data("callee2",e),a.target==c){var o=a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:a.pageX,n=a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageY:a.pageY;T.tap_timer=window.setTimeout(function(){if(!r.data("doubletapped")&&!r.data("tapheld")&&h.x==o&&h.y==n){var e=a.originalEvent,t={position:{x:T.touch_capable?e.changedTouches[0].screenX:a.screenX,y:T.touch_capable?e.changedTouches[0].screenY:a.screenY},offset:{x:T.touch_capable?Math.round(e.changedTouches[0].pageX-r.offset().left):Math.round(a.pageX-r.offset().left),y:T.touch_capable?Math.round(e.changedTouches[0].pageY-r.offset().top):Math.round(a.pageY-r.offset().top)},time:Date.now(),target:a.target};t.time-s<T.taphold_threshold&&x(i,"singletap",a,t)}},T.doubletap_int)}})},remove:function(){_(this).off(T.startevent,_(this).data.callee1).off(T.endevent,_(this).data.callee2)}},_.event.special.tap={setup:function(){var p,u,l=this,d=_(l),g=!1,f=null,v={x:0,y:0};d.on(T.startevent,function e(t){return d.data("callee1",e),(!t.which||1===t.which)&&(g=!0,v.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,v.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,p=Date.now(),f=t.target,u=t.originalEvent.targetTouches?t.originalEvent.targetTouches:[t],!0)}).on(T.endevent,function e(t){d.data("callee2",e);var a=t.originalEvent.targetTouches?t.originalEvent.changedTouches[0].pageX:t.pageX,o=t.originalEvent.targetTouches?t.originalEvent.changedTouches[0].pageY:t.pageY,n=v.x-a,i=v.y-o;if(f==t.target&&g&&Date.now()-p<T.taphold_threshold&&(v.x==a&&v.y==o||n>=-T.tap_pixel_range&&n<=T.tap_pixel_range&&i>=-T.tap_pixel_range&&i<=T.tap_pixel_range)){for(var r=t.originalEvent,c=[],s=0;s<u.length;s++){var h={position:{x:T.touch_capable?r.changedTouches[s].screenX:t.screenX,y:T.touch_capable?r.changedTouches[s].screenY:t.screenY},offset:{x:T.touch_capable?Math.round(r.changedTouches[s].pageX-d.offset().left):Math.round(t.pageX-d.offset().left),y:T.touch_capable?Math.round(r.changedTouches[s].pageY-d.offset().top):Math.round(t.pageY-d.offset().top)},time:Date.now(),target:t.target};c.push(h)}x(l,"tap",t,c)}})},remove:function(){_(this).off(T.startevent,_(this).data.callee1).off(T.endevent,_(this).data.callee2)}},_.event.special.swipe={setup:function(){var l,d=_(this),g=!1,f=!1,v={x:0,y:0},w={x:0,y:0};d.on(T.startevent,function e(t){(d=_(t.currentTarget)).data("callee1",e),v.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,v.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY,w.x=v.x,w.y=v.y,g=!0;var a=t.originalEvent;l={position:{x:T.touch_capable?a.touches[0].screenX:t.screenX,y:T.touch_capable?a.touches[0].screenY:t.screenY},offset:{x:T.touch_capable?Math.round(a.changedTouches[0].pageX-d.offset().left):Math.round(t.pageX-d.offset().left),y:T.touch_capable?Math.round(a.changedTouches[0].pageY-d.offset().top):Math.round(t.pageY-d.offset().top)},time:Date.now(),target:t.target}}),d.on(T.moveevent,function e(t){var a;(d=_(t.currentTarget)).data("callee2",e),w.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,w.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY;var o=d.parent().data("xthreshold")?d.parent().data("xthreshold"):d.data("xthreshold"),n=d.parent().data("ythreshold")?d.parent().data("ythreshold"):d.data("ythreshold"),i=void 0!==o&&!1!==o&&parseInt(o)?parseInt(o):T.swipe_h_threshold,r=void 0!==n&&!1!==n&&parseInt(n)?parseInt(n):T.swipe_v_threshold;if(v.y>w.y&&v.y-w.y>r&&(a="swipeup"),v.x<w.x&&w.x-v.x>i&&(a="swiperight"),v.y<w.y&&w.y-v.y>r&&(a="swipedown"),v.x>w.x&&v.x-w.x>i&&(a="swipeleft"),null!=a&&g){v.x=0,v.y=0,w.x=0,w.y=0,g=!1;var c=t.originalEvent,s={position:{x:T.touch_capable?c.touches[0].screenX:t.screenX,y:T.touch_capable?c.touches[0].screenY:t.screenY},offset:{x:T.touch_capable?Math.round(c.changedTouches[0].pageX-d.offset().left):Math.round(t.pageX-d.offset().left),y:T.touch_capable?Math.round(c.changedTouches[0].pageY-d.offset().top):Math.round(t.pageY-d.offset().top)},time:Date.now(),target:t.target},h=Math.abs(l.position.x-s.position.x),p=Math.abs(l.position.y-s.position.y),u={startEvnt:l,endEvnt:s,direction:a.replace("swipe",""),xAmount:h,yAmount:p,duration:s.time-l.time};f=!0,d.trigger("swipe",u).trigger(a,u)}}),d.on(T.endevent,function e(t){var a="";if((d=_(t.currentTarget)).data("callee3",e),f){var o=d.data("xthreshold"),n=d.data("ythreshold"),i=void 0!==o&&!1!==o&&parseInt(o)?parseInt(o):T.swipe_h_threshold,r=void 0!==n&&!1!==n&&parseInt(n)?parseInt(n):T.swipe_v_threshold,c=t.originalEvent,s={position:{x:T.touch_capable?c.changedTouches[0].screenX:t.screenX,y:T.touch_capable?c.changedTouches[0].screenY:t.screenY},offset:{x:T.touch_capable?Math.round(c.changedTouches[0].pageX-d.offset().left):Math.round(t.pageX-d.offset().left),y:T.touch_capable?Math.round(c.changedTouches[0].pageY-d.offset().top):Math.round(t.pageY-d.offset().top)},time:Date.now(),target:t.target};l.position.y>s.position.y&&l.position.y-s.position.y>r&&(a="swipeup"),l.position.x<s.position.x&&s.position.x-l.position.x>i&&(a="swiperight"),l.position.y<s.position.y&&s.position.y-l.position.y>r&&(a="swipedown"),l.position.x>s.position.x&&l.position.x-s.position.x>i&&(a="swipeleft");var h=Math.abs(l.position.x-s.position.x),p=Math.abs(l.position.y-s.position.y),u={startEvnt:l,endEvnt:s,direction:a.replace("swipe",""),xAmount:h,yAmount:p,duration:s.time-l.time};d.trigger("swipeend",u)}f=g=!1})},remove:function(){_(this).off(T.startevent,_(this).data.callee1).off(T.moveevent,_(this).data.callee2).off(T.endevent,_(this).data.callee3)}},_.event.special.scrollstart={setup:function(){var a,o,n=this,i=_(n);function r(e,t){x(n,(a=t)?"scrollstart":"scrollend",e)}i.on(T.scrollevent,function e(t){i.data("callee",e),a||r(t,!0),clearTimeout(o),o=setTimeout(function(){r(t,!1)},50)})},remove:function(){_(this).off(T.scrollevent,_(this).data.callee)}};var a,o,n,i,r=_(window),c={0:!0,180:!0};if(T.orientation_support){var s=window.innerWidth||r.width(),h=window.innerHeight||r.height();n=h<s&&50<s-h,i=c[window.orientation],(n&&i||!n&&!i)&&(c={"-90":!0,90:!0})}function p(){var e=a();e!==o&&(o=e,r.trigger("orientationchange"))}_.event.special.orientationchange={setup:function(){return!T.orientation_support&&(o=a(),r.on("throttledresize",p),!0)},teardown:function(){return!T.orientation_support&&(r.off("throttledresize",p),!0)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=a(),t.apply(this,arguments)}}},_.event.special.orientationchange.orientation=a=function(){var e=document.documentElement;return(T.orientation_support?c[window.orientation]:e&&e.clientWidth/e.clientHeight<1.1)?"portrait":"landscape"},_.event.special.throttledresize={setup:function(){_(this).on("resize",g)},teardown:function(){_(this).off("resize",g)}};var u,l,d,g=function(){l=Date.now(),250<=(d=l-f)?(f=l,_(this).trigger("throttledresize")):(u&&window.clearTimeout(u),u=window.setTimeout(p,250-d))},f=0;function x(e,t,a,o){var n=a.type;a.type=t,_.event.dispatch.call(e,a,o),a.type=n}_.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},function(e,t){_.event.special[e]={setup:function(){_(this).on(t,_.noop)}}})}(jQuery);
var METMUSEUM=METMUSEUM||{};METMUSEUM.lazyload=function(){var t,a=document.querySelectorAll(".js-lazy-image"),r={rootMargin:"50px 0px",threshold:.01},i=a.length;function s(e){var n,a,t,r=e.dataset.src;r&&(n=r,(new Image).src=n,t=r,(a=e).classList.add("js-lazy-image--handled"),a.src=t,a.classList.add("js-lazy-image--fade-in"))}function o(e){0===i&&t.disconnect();for(var n=0;n<e.length;n++){var a=e[n];0<a.intersectionRatio&&(i--,t.unobserve(a.target),s(a.target))}}return{init:function(){!function(){if("IntersectionObserver"in window){t=new IntersectionObserver(o,r);for(var e=0;e<a.length;e++){var n=a[e];n.classList.contains("js-lazy-image--handled")||t.observe(n)}}else!function(e){for(var n=0;n<e.length;n++){s(e[n])}}(a)}()}}}(),jQuery(document).ready(function(){METMUSEUM.lazyload.init()});
var METMUSEUM=METMUSEUM||{};METMUSEUM.enlarge=function(){var t=jQuery(".artwork-section"),e=(jQuery(".the-artwork"),jQuery(".artwork__image"));function r(){var t,e,r,a,n=(e=jQuery("<div />").addClass("lightbox__overlay"),(r=jQuery("<div />").addClass("artwork-enlarge__lightbox")).append(jQuery("<div />").addClass("artwork-enlarge__img__container")),e.append(r),jQuery(document.body).append(e),t=jQuery("<button />").attr("class","artwork-enlarge__lightbox__button artwork-enlarge__lightbox__close").append('<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="35" height="34.905"><path d="M35 33.877c0 .568-.472 1.028-1.055 1.028H1.055c-.583 0-1.055-.46-1.055-1.028V1.028C0 .46.472 0 1.055 0h32.891C34.528 0 35 .46 35 1.028v32.849z"/><g fill="none" stroke="#FFF" stroke-width="2" stroke-miterlimit="10"><path d="M24.251 10.935L10.746 24.12M10.94 10.776l13.143 13.462"/></g></svg>').bind("click touchstart",function(t){t.preventDefault(),i()}),r.find(".artwork-enlarge__img__container").append(t),e),o=jQuery(".artwork__interaction--download a").attr("href");n.css("visibility","visible"),n.show(),jQuery("<img />").on("load",function(){n.find(".artwork-enlarge__img__container").iviewer({zoom:"fit",zoom_min:5,zoom_max:200,zoom_delta:1.35}),n.find(".artwork-enlarge__img__container").iviewer("loadImage",o)}).attr("src",o),(a=jQuery("<a />").attr({class:"artwork-enlarge__lightbox__button artwork-enlarge__lightbox__download-image gtm__download__image",download:""}).append('<svg class="icon" xmlns="http://www.w3.org/2000/svg"><path d="M35 33.877c0 .568-.472 1.028-1.055 1.028H1.055c-.583 0-1.055-.46-1.055-1.028V1.028C0 .46.472 0 1.055 0h32.891C34.528 0 35 .46 35 1.028v32.849z"/><path fill="#FFF" d="M22.033 16.021l-4.791 5.171-4.803-5.179-1.27 1.177 4.851 5.23a1.653 1.653 0 0 0 2.447-.005l4.835-5.218-1.269-1.176z"/><path fill="#FFF" d="M16.37 9.108h1.73v12.116h-1.73zM9.447 24.686h15.577v1.731H9.447z"/></svg>')).attr("href",o),n.find(".artwork-enlarge__img__container").append(a),a.show(),a.bind("touchstart",function(){document.location.href=""+o}),jQuery(document).keydown(function(t){27==t.keyCode&&i()})}function i(){jQuery(".lightbox__overlay").remove()}return{init:function(){e.click(function(){t.hasClass("artwork--is-openaccess")&&r()}),jQuery(".enlarge__image--button").click(function(t){t.preventDefault(),r()})}}}(),jQuery(document).ready(function(){METMUSEUM.enlarge.init()});
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(l){l.ui=l.ui||{};l.ui.version="1.12.1";var n,i=0,r=Array.prototype.slice;l.cleanData=(n=l.cleanData,function(e){var t,i,s;for(s=0;null!=(i=e[s]);s++)try{(t=l._data(i,"events"))&&t.remove&&l(i).triggerHandler("remove")}catch(e){}n(e)}),l.widget=function(e,i,t){var s,n,o,a={},r=e.split(".")[0],u=r+"-"+(e=e.split(".")[1]);return t||(t=i,i=l.Widget),l.isArray(t)&&(t=l.extend.apply(null,[{}].concat(t))),l.expr[":"][u.toLowerCase()]=function(e){return!!l.data(e,u)},l[r]=l[r]||{},s=l[r][e],n=l[r][e]=function(e,t){if(!this._createWidget)return new n(e,t);arguments.length&&this._createWidget(e,t)},l.extend(n,s,{version:t.version,_proto:l.extend({},t),_childConstructors:[]}),(o=new i).options=l.widget.extend({},o.options),l.each(t,function(t,s){function n(){return i.prototype[t].apply(this,arguments)}function o(e){return i.prototype[t].apply(this,e)}l.isFunction(s)?a[t]=function(){var e,t=this._super,i=this._superApply;return this._super=n,this._superApply=o,e=s.apply(this,arguments),this._super=t,this._superApply=i,e}:a[t]=s}),n.prototype=l.widget.extend(o,{widgetEventPrefix:s&&o.widgetEventPrefix||e},a,{constructor:n,namespace:r,widgetName:e,widgetFullName:u}),s?(l.each(s._childConstructors,function(e,t){var i=t.prototype;l.widget(i.namespace+"."+i.widgetName,n,t._proto)}),delete s._childConstructors):i._childConstructors.push(n),l.widget.bridge(e,n),n},l.widget.extend=function(e){for(var t,i,s=r.call(arguments,1),n=0,o=s.length;n<o;n++)for(t in s[n])i=s[n][t],s[n].hasOwnProperty(t)&&void 0!==i&&(l.isPlainObject(i)?e[t]=l.isPlainObject(e[t])?l.widget.extend({},e[t],i):l.widget.extend({},i):e[t]=i);return e},l.widget.bridge=function(o,t){var a=t.prototype.widgetFullName||o;l.fn[o]=function(i){var e="string"==typeof i,s=r.call(arguments,1),n=this;return e?this.length||"instance"!==i?this.each(function(){var e,t=l.data(this,a);return"instance"===i?(n=t,!1):t?l.isFunction(t[i])&&"_"!==i.charAt(0)?(e=t[i].apply(t,s))!==t&&void 0!==e?(n=e&&e.jquery?n.pushStack(e.get()):e,!1):void 0:l.error("no such method '"+i+"' for "+o+" widget instance"):l.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(s.length&&(i=l.widget.extend.apply(null,[i].concat(s))),this.each(function(){var e=l.data(this,a);e?(e.option(i||{}),e._init&&e._init()):l.data(this,a,new t(i,this))})),n}},l.Widget=function(){},l.Widget._childConstructors=[],l.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=l(t||this.defaultElement||this)[0],this.element=l(t),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=l(),this.hoverable=l(),this.focusable=l(),this.classesElementLookup={},t!==this&&(l.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=l(t.style?t.ownerDocument:t.document||t),this.window=l(this.document[0].defaultView||this.document[0].parentWindow)),this.options=l.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:l.noop,_create:l.noop,_init:l.noop,destroy:function(){var i=this;this._destroy(),l.each(this.classesElementLookup,function(e,t){i._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:l.noop,widget:function(){return this.element},option:function(e,t){var i,s,n,o=e;if(0===arguments.length)return l.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(i=e.split(".")).shift(),i.length){for(s=o[e]=l.widget.extend({},this.options[e]),n=0;n<i.length-1;n++)s[i[n]]=s[i[n]]||{},s=s[i[n]];if(e=i.pop(),1===arguments.length)return void 0===s[e]?null:s[e];s[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,i,s;for(t in e)s=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&s&&s.length&&(i=l(s.get()),this._removeClass(s,t),i.addClass(this._classes({element:i,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(n){var o=[],a=this;function e(e,t){var i,s;for(s=0;s<e.length;s++)i=a.classesElementLookup[e[s]]||l(),i=n.add?l(l.unique(i.get().concat(n.element.get()))):l(i.not(n.element).get()),a.classesElementLookup[e[s]]=i,o.push(e[s]),t&&n.classes[e[s]]&&o.push(n.classes[e[s]])}return n=l.extend({element:this.element,classes:this.options.classes||{}},n),this._on(n.element,{remove:"_untrackClassesElement"}),n.keys&&e(n.keys.match(/\S+/g)||[],!0),n.extra&&e(n.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(i){var s=this;l.each(s.classesElementLookup,function(e,t){-1!==l.inArray(i.target,t)&&(s.classesElementLookup[e]=l(t.not(i.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof e||null===e,o={extra:n?t:i,keys:n?e:t,element:n?this.element:e,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(a,r,e){var u,h=this;"boolean"!=typeof a&&(e=r,r=a,a=!1),e?(r=u=l(r),this.bindings=this.bindings.add(r)):(e=r,r=this.element,u=this.widget()),l.each(e,function(e,t){function i(){if(a||!0!==h.options.disabled&&!l(this).hasClass("ui-state-disabled"))return("string"==typeof t?h[t]:t).apply(h,arguments)}"string"!=typeof t&&(i.guid=t.guid=t.guid||i.guid||l.guid++);var s=e.match(/^([\w:-]*)\s*(.*)$/),n=s[1]+h.eventNamespace,o=s[2];o?u.on(n,o,i):r.on(n,i)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t).off(t),this.bindings=l(this.bindings.not(e).get()),this.focusable=l(this.focusable.not(e).get()),this.hoverable=l(this.hoverable.not(e).get())},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(l(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(l(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(l(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(l(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,i){var s,n,o=this.options[e];if(i=i||{},(t=l.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],n=t.originalEvent)for(s in n)s in t||(t[s]=n[s]);return this.element.trigger(t,i),!(l.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}},l.each({show:"fadeIn",hide:"fadeOut"},function(o,a){l.Widget.prototype["_"+o]=function(t,e,i){var s;"string"==typeof e&&(e={effect:e});var n=e?!0!==e&&"number"!=typeof e&&e.effect||a:o;"number"==typeof(e=e||{})&&(e={duration:e}),s=!l.isEmptyObject(e),e.complete=i,e.delay&&t.delay(e.delay),s&&l.effects&&l.effects.effect[n]?t[o](e):n!==o&&t[n]?t[n](e.duration,e.easing,i):t.queue(function(e){l(this)[o](),i&&i.call(t[0]),e()})}});l.widget,l.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var o=!1;l(document).on("mouseup",function(){o=!1});l.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){if(!0===l.data(e.target,t.widgetName+".preventClickEvent"))return l.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,i=1===e.which,s=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&l(e.target).closest(this.options.cancel).length;return i&&!s&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===l.data(e.target,this.widgetName+".preventClickEvent")&&l.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(l.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&l.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,o=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})});
!function(s,n){var o={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},r="ongesturestart"in document.createElement("div");function e(t){var i=t.originalEvent.changedTouches[0];return s.extend(t,{type:o[t.type],which:1,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY,isTouchEvent:!0})}var t=s.ui.mouse.prototype,h=s.ui.mouse.prototype._mouseInit;t._mouseInit=function(){var i=this;i._touchActive=!1,this.element.bind("touchstart."+this.widgetName,function(t){if(!(r&&1<t.originalEvent.touches.length))return i._touchActive=!0,i._mouseDown(e(t))}),this._mouseMoveDelegate=function(t){if(!(r&&t.originalEvent.touches&&1<t.originalEvent.touches.length))return i._touchActive?i._mouseMove(e(t)):void 0},this._mouseUpDelegate=function(t){if(i._touchActive)return i._touchActive=!1,i._mouseUp(e(t))},s(document).bind("touchmove."+this.widgetName,this._mouseMoveDelegate).bind("touchend."+this.widgetName,this._mouseUpDelegate),h.apply(this)};function a(i,o){return function(t){if(0===arguments.length)return o.apply(this);i.apply(this,arguments)}}var u={0:{marginLeft:0,marginTop:0,filter:'progid:DXImageTransform.Microsoft.Matrix(M11=1, M12=0, M21=0, M22=1, SizingMethod="auto expand")'},90:{marginLeft:-1,marginTop:1,filter:'progid:DXImageTransform.Microsoft.Matrix(M11=0, M12=-1, M21=1, M22=0, SizingMethod="auto expand")'},180:{marginLeft:0,marginTop:0,filter:'progid:DXImageTransform.Microsoft.Matrix(M11=-1, M12=0, M21=0, M22=-1, SizingMethod="auto expand")'},270:{marginLeft:-1,marginTop:1,filter:'progid:DXImageTransform.Microsoft.Matrix(M11=0, M12=1, M21=-1, M22=0, SizingMethod="auto expand")'}},d=function(){for(var t=document.createElement("modernizr").style,i=("transform "+"Webkit Moz O ms".toLowerCase().split(" ").join("Transform ")+"Transform").split(" "),o=0;o<i.length;o++){var e=i[o];if(-1==e.indexOf("-")&&t[e]!==n)return!1}return!0}();s.widget("ui.iviewer",s.ui.mouse,{widgetEventPrefix:"iviewer",options:{zoom:"fit",zoom_base:100,zoom_max:800,zoom_min:25,zoom_delta:1.4,zoom_animation:!0,ui_disabled:!1,mousewheel:!0,update_on_resize:!0,zoom_on_dblclick:!0,fill_container:!1,onZoom:jQuery.noop,onAfterZoom:jQuery.noop,onStartDrag:jQuery.noop,onDrag:jQuery.noop,onStopDrag:jQuery.noop,onMouseMove:jQuery.noop,onClick:jQuery.noop,onDblClick:null,onStartLoad:null,onFinishLoad:null,onErrorLoad:null},_create:function(){var i=this;if(this.dx=0,this.dy=0,this.img_object={},this.zoom_object={},this._angle=0,this.current_zoom=this.options.zoom,null!==this.options.src){this.container=this.element,this._updateContainerInfo(),this.container.css("overflow","hidden"),1==this.options.update_on_resize&&s(window).resize(function(){i.update()}),this.img_object=new s.ui.iviewer.ImageObject(this.options.zoom_animation),this.options.mousewheel&&this.activateMouseWheel(this.options.mousewheel);var t=!!this.options.onDblClick||this.options.zoom_on_dblclick,o=null,e=0;this.img_object.object().prependTo(this.container),t?this.img_object.object().click(function(t){e++,clearTimeout(o),o=setTimeout(function(){e=0,i._click(t)},300)}).dblclick(function(t){2===e&&(clearTimeout(o),e=0,i._dblclick(t))}):this.img_object.object().click(function(t){i._click(t)}),this.container.bind("mousemove.iviewer",function(t){i._handleMouseMove(t)}),this.loadImage(this.options.src),this.options.ui_disabled||this.createui(),this.controls=this.container.find(".artwork-enlarge__lightbox__button")||{},this._mouseInit()}},destroy:function(){s.Widget.prototype.destroy.call(this),this._mouseDestroy(),this.img_object.object().remove(),this.controls.remove(),this.container.off(".iviewer"),this.container.css("overflow","")},_updateContainerInfo:function(){this.options.height=this.container.height(),this.options.width=this.container.width()},activateMouseWheel:function(t){if(this.container.unbind("mousewheel.iviewer"),r&&this.img_object.object().unbind("touchstart").unbind("gesturechange.iviewer").unbind("gestureend.iviewer"),t){var n=this;if(this.container.bind("mousewheel.iviewer",function(t,i){var o=0<i?1:-1,e=n.container.offset(),s={x:(t.pageX||t.originalEvent.pageX)-e.left,y:(t.pageY||t.originalEvent.pageX)-e.top};return n.zoom_by(o,s),!1}),r){var e,s,h=+new Date;this.img_object.object().bind("touchstart",function(t){e=n.current_zoom;var i,o=t.originalEvent.touches;s=2==o.length?(i=n.container.offset(),{x:(o[0].pageX+o[1].pageX)/2-i.left,y:(o[0].pageY+o[1].pageY)/2-i.top}):null}).bind("gesturechange.iviewer",function(t){var i=+new Date;if(!(i-h<50)){h=i;var o=e*t.originalEvent.scale;n.set_zoom(o,s),t.preventDefault()}}).bind("gestureend.iviewer",function(t){s=null})}}},update:function(){this._updateContainerInfo(),this.setCoords(this.img_object.x(),this.img_object.y())},loadImage:function(t){this.current_zoom=this.options.zoom;var i=this;this._trigger("onStartLoad",0,t),this.container.addClass("iviewer_loading"),this.img_object.load(t,function(){i._fill_orig_dimensions={width:i.img_object.orig_width(),height:i.img_object.orig_height()},i._imageLoaded(t)},function(){i._trigger("onErrorLoad",0,t)})},_imageLoaded:function(t){this.container.removeClass("iviewer_loading"),this.container.addClass("iviewer_cursor"),"fit"==this.options.zoom?this.fit(!0):this.set_zoom(this.options.zoom,!0),this._trigger("onFinishLoad",0,t),this.options.fill_container&&this.fill_container(!0)},fit:function(t){var i=this.img_object.orig_width()/this.img_object.orig_height(),o=0;o=this.options.width/this.options.height<i?this.options.width/this.img_object.orig_width()*100:this.options.height/this.img_object.orig_height()*100,this.current_zoom="fit",this.set_zoom(o,t)},showZoomReset:function(){this.enlargeStatus.show(),this.enlargeFit.show()},hideZoomReset:function(){this.enlargeStatus.hide(),this.enlargeFit.hide()},center:function(){this.setCoords(-Math.round((this.img_object.display_width()-this.options.width)/2),-Math.round((this.img_object.display_height()-this.options.height)/2))},moveTo:function(t,i){var o=t-Math.round(this.options.width/2),e=i-Math.round(this.options.height/2),s=this.img_object.x()-o,n=this.img_object.y()-e;this.setCoords(s,n)},getContainerOffset:function(){return jQuery.extend({},this.container.offset())},setCoords:function(t,i){if(this.img_object.loaded()){var o=this._correctCoords(t,i);this.img_object.animateTo(o.x,o.y)}},_correctCoords:function(t,i){return t=parseInt(t,10),0<(i=parseInt(i,10))&&(i=0),0<t&&(t=0),i+this.img_object.display_height()<this.options.height&&(i=this.options.height-this.img_object.display_height()),t+this.img_object.display_width()<this.options.width&&(t=this.options.width-this.img_object.display_width()),this.img_object.display_width()<=this.options.width&&(t=-(this.img_object.display_width()-this.options.width)/2),this.img_object.display_height()<=this.options.height&&(i=-(this.img_object.display_height()-this.options.height)/2),{x:t,y:i}},containerToImage:function(t,i){var o={x:t-this.img_object.x(),y:i-this.img_object.y()};return o=this.img_object.toOriginalCoords(o),{x:g.descaleValue(o.x,this.current_zoom),y:g.descaleValue(o.y,this.current_zoom)}},imageToContainer:function(t,i){var o={x:g.scaleValue(t,this.current_zoom),y:g.scaleValue(i,this.current_zoom)};return this.img_object.toRealCoords(o)},_getMouseCoords:function(t){var i=this.container.offset();return this.containerToImage(t.pageX-i.left,t.pageY-i.top)},fill_container:function(t){if(this.options.fill_container=t){var i=this.options.width/this.options.height;1<i?this.img_object.orig_width(this.img_object.orig_height()*i):this.img_object.orig_height(this.img_object.orig_width()*i)}else this.img_object.orig_width(this._fill_orig_dimensions.width),this.img_object.orig_height(this._fill_orig_dimensions.height);this.set_zoom(this.current_zoom)},set_zoom:function(t,i,o){if(0!=this._trigger("onZoom",0,t)&&this.img_object.loaded()){var e,s;o=o||{x:Math.round(this.options.width/2),y:Math.round(this.options.height/2)},t<this.options.zoom_min?t=this.options.zoom_min:t>this.options.zoom_max&&(t=this.options.zoom_max),"fit"==this.current_zoom?(e=o.x+Math.round(this.img_object.orig_width()/2),s=o.y+Math.round(this.img_object.orig_height()/2),this.current_zoom=100,this.hideZoomReset()):(e=-this.img_object.x()+o.x,s=-this.img_object.y()+o.y,this.showZoomReset());var n=g.scaleValue(this.img_object.orig_width(),t),h=g.scaleValue(this.img_object.orig_height(),t),r=g.scaleValue(g.descaleValue(e,this.current_zoom),t),a=g.scaleValue(g.descaleValue(s,this.current_zoom),t);r=o.x-r,a=o.y-a,n=Math.floor(n),h=Math.floor(h),r=Math.floor(r),a=Math.floor(a),this.img_object.display_width(n),this.img_object.display_height(h);var c=this._correctCoords(r,a),_=this;this.img_object.setImageProps(n,h,c.x,c.y,i,function(){_._trigger("onAfterZoom",0,t)}),this.current_zoom=t,this.update_status()}},showControls:function(t){t?this.controls.fadeIn():this.controls.fadeOut()},zoom_by:function(t,i){var o=this.find_closest_zoom_rate(this.current_zoom)+t,e=this.options.zoom_base*Math.pow(this.options.zoom_delta,o);0<t&&e<this.current_zoom&&(e*=this.options.zoom_delta),t<0&&e>this.current_zoom&&(e/=this.options.zoom_delta),this.set_zoom(e,n,i)},angle:function(t,i){if(0===arguments.length)return this.img_object.angle();t<-270||270<t||t%90!=0||(i||(t+=this.img_object.angle()),t<0&&(t+=360),360<=t&&(t-=360),t!==this.img_object.angle()&&(this.img_object.angle(t),this.center(),this._trigger("angle",0,{angle:this.img_object.angle()})))},find_closest_zoom_rate:function(t){if(t==this.options.zoom_base)return 0;for(var i=t>this.options.zoom_base?function(t,i){return t*i}:function(t,i){return t/i},o=t>this.options.zoom_base?1:-1,e=this.options.zoom_delta,s=1;Math.abs(i(this.options.zoom_base,Math.pow(e,s))-t)>Math.abs(i(this.options.zoom_base,Math.pow(e,s+1))-t);)s++;return o*s},update_status:function(){if(!this.options.ui_disabled){var t=Math.round(100*this.img_object.display_height()/this.img_object.orig_height());t&&this.enlargeStatus.html(t+"%")}},info:function(t,i){if(t)switch(t){case"orig_width":case"orig_height":return!i||this.img_object.angle()%180==0?this.img_object[t]():"orig_width"===t?this.img_object.orig_height():this.img_object.orig_width();case"display_width":case"display_height":case"angle":return this.img_object[t]();case"zoom":return this.current_zoom;case"options":return this.options;case"src":return this.img_object.object().attr("src");case"coords":return{x:this.img_object.x(),y:this.img_object.y()}}},_mouseStart:function(t){return s.ui.mouse.prototype._mouseStart.call(this,t),!1!==this._trigger("onStartDrag",0,this._getMouseCoords(t))&&(this.container.addClass("iviewer_drag_cursor"),this._dragInitialized=!(t.originalEvent.changedTouches&&1==t.originalEvent.changedTouches.length),this.dx=t.pageX-this.img_object.x(),this.dy=t.pageY-this.img_object.y(),!0)},_mouseCapture:function(t){return!0},_handleMouseMove:function(t){this._trigger("onMouseMove",t,this._getMouseCoords(t))},_mouseDrag:function(t){s.ui.mouse.prototype._mouseDrag.call(this,t),this._dragInitialized||(this.dx=t.pageX-this.img_object.x(),this.dy=t.pageY-this.img_object.y(),this._dragInitialized=!0);var i=t.pageY-this.dy,o=t.pageX-this.dx;return this.setCoords(o,i),this._trigger("onDrag",t,this._getMouseCoords(t)),!1},_mouseStop:function(t){s.ui.mouse.prototype._mouseStop.call(this,t),this.container.removeClass("iviewer_drag_cursor"),this._trigger("onStopDrag",0,this._getMouseCoords(t))},_click:function(t){this._trigger("onClick",0,this._getMouseCoords(t))},_dblclick:function(t){if(this.options.onDblClick&&this._trigger("onDblClick",0,this._getMouseCoords(t)),this.options.zoom_on_dblclick){var i=this.container.offset(),o={x:t.pageX-i.left,y:t.pageY-i.top};this.zoom_by(1,o)}},createui:function(){var t=this;s("<button>",{class:"artwork-enlarge__lightbox__zoom-in artwork-enlarge__lightbox__button"}).append('<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="35" height="34.905"><path d="M35 33.877c0 .568-.472 1.028-1.055 1.028H1.055c-.583 0-1.055-.46-1.055-1.028V1.028C0 .46.472 0 1.055 0h32.891C34.528 0 35 .46 35 1.028v32.849z"/><g fill="none" stroke="#FFF" stroke-width="2" stroke-miterlimit="10"><path d="M17.5 8.086v18.875M8.088 17.5h18.813"/></g></svg>').bind("mousedown touchstart",function(){return t.zoom_by(1),!1}).appendTo(this.container),s("<button>",{class:"artwork-enlarge__lightbox__zoom-out artwork-enlarge__lightbox__button"}).append('<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="35" height="34.905"><path d="M35 33.877c0 .568-.472 1.028-1.055 1.028H1.055c-.583 0-1.055-.46-1.055-1.028V1.028C0 .46.472 0 1.055 0h32.891C34.528 0 35 .46 35 1.028v32.849z"/><path fill="none" stroke="#FFF" stroke-width="2" stroke-miterlimit="10" d="M8.088 17.5h18.813"/></svg>').bind("mousedown touchstart",function(){return t.zoom_by(-1),!1}).appendTo(this.container),s("<button>",{class:"artwork-enlarge__lightbox__fit artwork-enlarge__lightbox__button"}).append('<svg class="icon" xmlns="http://www.w3.org/2000/svg"><path d="M35 33.877c0 .568-.472 1.028-1.055 1.028H1.055c-.583 0-1.055-.46-1.055-1.028V1.028C0 .46.472 0 1.055 0h32.891C34.528 0 35 .46 35 1.028v32.849z"/><path fill="#FFF" d="M24.042 11.692c-1.577-1.699-3.838-2.714-6.326-2.714-4.968 0-9.033 4.064-9.033 9.033 0 4.974 4.064 9.039 9.033 9.039 4.181 0 7.683-2.939 8.697-6.778h-2.372c-.904 2.598-3.386 4.517-6.326 4.517-3.721 0-6.771-3.05-6.771-6.778 0-3.722 3.05-6.772 6.771-6.772 1.925 0 3.502.788 4.749 2.029l-3.618 3.618h7.908V8.978l-2.712 2.714zm0 0"/></svg>').bind("mousedown touchstart",function(){return t.fit(this),!1}).appendTo(this.container),s("<div>",{class:"artwork-enlarge__lightbox__status"}).appendTo(this.container),this.enlargeFit=this.container.find(".artwork-enlarge__lightbox__fit"),this.enlargeStatus=this.container.find(".artwork-enlarge__lightbox__status"),this.update_status()}}),s.ui.iviewer.ImageObject=function(t){this._img=s("<img>").css({position:"absolute",top:"0px",left:"0px"}),this._loaded=!1,this._swapDimensions=!1,this._do_anim=t||!1,this.x(0,!0),this.y(0,!0),this.angle(0)},function(){this._reset=function(t,i){this._angle=0,this._swapDimensions=!1,this.x(0),this.y(0),this.orig_width(t),this.orig_height(i),this.display_width(t),this.display_height(i)},this.loaded=function(){return this._loaded},this.load=function(t,i,o){var e=this;i=i||jQuery.noop,this._loaded=!1;var s="naturalWidth"in new Image,n=s?e._img[0]:new Image;n.onload=function(){e._loaded=!0,s?e._reset(this.naturalWidth,this.naturalHeight):e._reset(this.width,this.height),e._img.removeAttr("width").removeAttr("height").removeAttr("style").css({position:"absolute",top:"0px",left:"0px",maxWidth:"none"}),s||(e._img[0].src=t),i()},n.onerror=o,setTimeout(function(){n.src=t},0),this.angle(0)},this._dimension=function(t,i){var o="_"+t+"_"+i,e="_"+t+"_"+("height"===i?"width":"height");return a(function(t){this[this._swapDimensions?o:e]=t},function(){return this[this._swapDimensions?o:e]})},this.display_width=this._dimension("display","width"),this.display_height=this._dimension("display","height"),this.display_diff=function(){return Math.floor(this.display_width()-this.display_height())},this.orig_width=this._dimension("orig","width"),this.orig_height=this._dimension("orig","height"),this.x=a(function(t,i){this._x=t,i||(this._finishAnimation(),this._img.css("left",this._x+(this._swapDimensions?this.display_diff()/2:0)+"px"))},function(){return this._x}),this.y=a(function(t,i){this._y=t,i||(this._finishAnimation(),this._img.css("top",this._y-(this._swapDimensions?this.display_diff()/2:0)+"px"))},function(){return this._y}),this.animateTo=function(t,i){this._x=t;this._y=i;this.x(t),this.y(i)},this.angle=a(function(o){var t=this._swapDimensions;if(this._angle=o,this._swapDimensions=o%180!=0,t!==this._swapDimensions){var i=this._swapDimensions?-1:1;this.x(this.x()-i*this.display_diff()/2,!0),this.y(this.y()+i*this.display_diff()/2,!0)}var e="rotate("+o+"deg)",s=this._img;jQuery.each(["","-webkit-","-moz-","-o-","-ms-"],function(t,i){s.css(i+"transform",e)}),d&&(jQuery.each(["-ms-",""],function(t,i){s.css(i+"filter",u[o].filter)}),s.css({marginLeft:u[o].marginLeft*this.display_diff()/2,marginTop:u[o].marginTop*this.display_diff()/2}))},function(){return this._angle}),this.toOriginalCoords=function(t){switch(this.angle()){case 0:return{x:t.x,y:t.y};case 90:return{x:t.y,y:this.display_width()-t.x};case 180:return{x:this.display_width()-t.x,y:this.display_height()-t.y};case 270:return{x:this.display_height()-t.y,y:t.x}}},this.toRealCoords=function(t){switch(this.angle()){case 0:return{x:this.x()+t.x,y:this.y()+t.y};case 90:return{x:this.x()+this.display_width()-t.y,y:this.y()+t.x};case 180:return{x:this.x()+this.display_width()-t.x,y:this.y()+this.display_height()-t.y};case 270:return{x:this.x()+t.y,y:this.y()+this.display_height()-t.x}}},this.object=a(jQuery.noop,function(){return this._img}),this.setImageProps=function(t,i,o,e,s,n){n=n||jQuery.noop,this.display_width(t),this.display_height(i),this.x(o,!0),this.y(e,!0);var h={width:this._swapDimensions?i:t,height:this._swapDimensions?t:i,top:e-(this._swapDimensions?this.display_diff()/2:0)+"px",left:o+(this._swapDimensions?this.display_diff()/2:0)+"px"};d&&jQuery.extend(h,{marginLeft:u[this.angle()].marginLeft*this.display_diff()/2,marginTop:u[this.angle()].marginTop*this.display_diff()/2});var r=this._swapDimensions,a=this._img;if(d&&r){var c=this._img.width(),_=this._img.height(),g=h.height-c;iedw=h.width-_,delete h.width,delete h.height}this._do_anim&&!s?this._img.stop(!0).animate(h,{duration:400,complete:n,step:function(t,i){if(d&&r&&"top"===i.prop){var o=(t-i.start)/(i.end-i.start);a.height(c+g*o),a.width(_+iedw*o),a.css("top",t)}}}):(this._img.css(h),setTimeout(n,0))},this._finishAnimation=function(){this._img.stop(!0,!0)}}.apply(s.ui.iviewer.ImageObject.prototype);var g={scaleValue:function(t,i){return t*i/100},descaleValue:function(t,i){return 100*t/i}}}(jQuery,void 0);
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(d){var c,m,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],g=Array.prototype.slice;if(d.event.fixHooks)for(var i=e.length;i;)d.event.fixHooks[e[--i]]=d.event.mouseHooks;var w=d.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1);else this.onmousewheel=n;d.data(this,"mousewheel-line-height",w.getLineHeight(this)),d.data(this,"mousewheel-page-height",w.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1);else this.onmousewheel=null;d.removeData(this,"mousewheel-line-height"),d.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=d(e),i=t["offsetParent"in d.fn?"offsetParent":"parent"]();return i.length||(i=d("body")),parseInt(i.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return d(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function n(e){var t,i=e||window.event,n=g.call(arguments,1),o=0,l=0,s=0,a=0,h=0;if((e=d.event.fix(i)).type="mousewheel","detail"in i&&(s=-1*i.detail),"wheelDelta"in i&&(s=i.wheelDelta),"wheelDeltaY"in i&&(s=i.wheelDeltaY),"wheelDeltaX"in i&&(l=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(l=-1*s,s=0),o=0===s?l:s,"deltaY"in i&&(o=s=-1*i.deltaY),"deltaX"in i&&(l=i.deltaX,0===s&&(o=-1*l)),0!==s||0!==l){if(1===i.deltaMode){var r=d.data(this,"mousewheel-line-height");o*=r,s*=r,l*=r}else if(2===i.deltaMode){var u=d.data(this,"mousewheel-page-height");o*=u,s*=u,l*=u}if(t=Math.max(Math.abs(s),Math.abs(l)),(!m||t<m)&&p(i,m=t)&&(m/=40),p(i,t)&&(o/=40,l/=40,s/=40),o=Math[1<=o?"floor":"ceil"](o/m),l=Math[1<=l?"floor":"ceil"](l/m),s=Math[1<=s?"floor":"ceil"](s/m),w.settings.normalizeOffset&&this.getBoundingClientRect){var f=this.getBoundingClientRect();a=e.clientX-f.left,h=e.clientY-f.top}return e.deltaX=l,e.deltaY=s,e.deltaFactor=m,e.offsetX=a,e.offsetY=h,e.deltaMode=0,n.unshift(e,o,l,s),c&&clearTimeout(c),c=setTimeout(v,200),(d.event.dispatch||d.event.handle).apply(this,n)}}function v(){m=null}function p(e,t){return w.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});
var METMUSEUM=METMUSEUM||{};METMUSEUM.artworkreadmore=function(){var r=jQuery(".artwork__intro__desc--readmore"),e=jQuery(".artwork__intro__desc"),t=jQuery(".the-artwork");return{init:function(){r.click(function(){e.animate({height:e.get(0).scrollHeight},500,function(){e.removeClass("artwork__intro__desc--cropped"),t.addClass("the-artwork--sticky"),r.remove()})})}}}(),jQuery(document).ready(function(){METMUSEUM.artworkreadmore.init()});
var METMUSEUM=METMUSEUM||{};METMUSEUM.slideshow=function(){var a,e,n,d,c=jQuery(".artwork-section"),t=jQuery(".the-artwork__inset"),l=jQuery(".artwork__image"),o=document.getElementById("artwork__image"),u=jQuery(".artwork__caption"),r=jQuery("#additional-images-carousel"),m=jQuery(".the-artwork__meta"),i=jQuery(".the-artwork__inset"),s=(t=jQuery(".artwork__image__wrapper"),26);function g(){(n=u.height()-s)<0&&(n=0)}function h(){o.removeEventListener("load",h),g(),a=i.outerHeight(),e=t.outerHeight(),d=e,i.height(a),l.css("max-height",d)}return{init:function(){r.length&&(r.on("click",".met-carousel__item",function(a){var e,t,o,r,i,s;jQuery(this).hasClass("loading-image")||(jQuery(this).addClass("loading-image"),e=jQuery(this),t=jQuery(this).find("img"),o=t.data("largeimage"),r=t.data("caption").toString().trim(),i=t.data("openaccess"),s=t.data("superjumboimage"),function(a,e,t){jQuery(".met-carousel__item").removeClass("is-active"),a.addClass("is-active"),"True"===e&&jQuery(".artwork__interaction--download").find("a").attr("href",t)}(e,i,s),function(a,e,t,o){l.on("load",function(){l.unbind("load"),function(a,e,t){""!=a&&u.addClass("artwork__caption--has-caption").find("p").html(a);"True"==e?c.addClass("artwork--is-openaccess"):c.addClass("artwork--not-openaccess");g(),25<n?l.css("max-height",d-n):l.css("max-height",d),c.removeClass("artwork--image-is-loading").addClass("artwork--image-has-loaded"),l.fadeTo(150,1,"swing",function(){m.addClass("fade-opacity-to-one").removeClass("opacity-zero")}),t.removeClass("loading-image")}(e,t,o)}),c.removeClass("artwork--image-has-loaded").addClass("artwork--image-is-loading"),m.addClass("opacity-zero").removeClass("fade-opacity-to-one"),l.fadeTo(300,0,"swing",function(){u.removeClass("artwork__caption--has-caption").find("p").empty(),c.removeClass("artwork--is-openaccess artwork--not-openaccess"),l.attr("src","").attr("src",a)})}(o,r,i,e))}),o.complete?h():o.addEventListener("load",h))}}}(),jQuery(document).ready(function(){METMUSEUM.slideshow.init()});
var METMUSEUM=METMUSEUM||{};METMUSEUM.carousel=function(){var n=500,c=100,r=80,s=70;function l(t){var a=t.find(".met-carousel__track"),i=a.width(),o=a[0].scrollWidth-1,e=a.position().left,n=o+e;return{viewportWidth:i,trackWidth:o,positionLeft:e,remaining:n,moreLeft:e<0,moreRight:i<n}}function d(t,a){var i,o,e,n,r=a;0<=r.positionLeft&&t.find(".carousel__control-left").length&&(i=t.find(".carousel__control-left")).fadeOut(c,function(){i.removeClass("is-active").attr("aria-hidden","true").attr("aria-disabled","true")}),r.positionLeft<0&&t.find(".carousel__control-left").length&&(o=t.find(".carousel__control-left")).fadeIn(c,function(){o.addClass("is-active").attr("aria-hidden","false").attr("aria-disabled","false")}),r.remaining<=r.viewportWidth?(n=t.find(".carousel__control-right")).fadeOut(c,function(){n.removeClass("is-active").attr("aria-hidden","true").attr("aria-disabled","true")}):(e=t.find(".carousel__control-right")).fadeIn(c,function(){e.addClass("is-active").attr("aria-hidden","false").attr("aria-disabled","false")})}function u(t,a){var i=a,o=Math.abs(i.positionLeft),e=o+i.viewportWidth;i.moreRight&&(e-=r),t.find(".met-carousel__item").each(function(){var t=jQuery(this),a=t.position().left;o<=a&&a<e?t.attr("aria-hidden","false"):t.attr("aria-hidden","true")})}function f(t){t.find(".carousel__control").prop("disabled",!0).attr("aria-disabled","true")}function h(t){t.find(".carousel__control").prop("disabled",!1).attr("aria-disabled","false")}function e(a){var t,i,o,e=l(a);t=Math.abs(e.positionLeft),o="-="+((i=e.trackWidth-t-e.viewportWidth)<e.viewportWidth?i+s:e.viewportWidth-r),f(a),a.find(".met-carousel__track").animate({left:o},n,function(){var t=l(a);d(a,t),u(a,t),h(a)})}function _(a){var t,i,o=l(a);i="+="+((t=Math.abs(o.positionLeft))<o.viewportWidth?t:o.viewportWidth-r),f(a),a.find(".met-carousel__track").animate({left:i},n,function(){var t=l(a);d(a,t),u(a,t),h(a)})}return{init:function(){jQuery(".met-carousel").each(function(t){var o=jQuery(this);o.hasClass("met-carousel--lackadaisical")&&(r=120),o.imagesLoaded(function(){var t,a,i=l(o);t=o,(a=i).trackWidth>a.viewportWidth?(t.addClass("has-controls").removeClass("no-controls"),function(t){if(0==function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var a=["(",t.join("touch-enabled),("),"heartz",")"].join("");return function(t){return window.matchMedia(t).matches}(a)}()){t.append('<button class="carousel__control carousel__control-right" aria-label="Next" type="button"><svg class="carousel__control__icon" viewBox="0 0 477.175 477.175"><path d="M360.731 229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1 0s-5.3 13.8 0 19.1l215.5 215.5-215.5 215.5c-5.3 5.3-5.3 13.8 0 19.1 2.6 2.6 6.1 4 9.5 4 3.4 0 6.9-1.3 9.5-4l225.1-225.1c5.3-5.2 5.3-13.8.1-19z"></path></svg></button>'),t.prepend('<button class="carousel__control carousel__control-left" aria-label="Previous" type="button"><svg class="carousel__control__icon" viewBox="0 0 477.175 477.175"><path d="M145.188 238.575l215.5-215.5c5.3-5.3 5.3-13.8 0-19.1s-13.8-5.3-19.1 0l-225.1 225.1c-5.3 5.3-5.3 13.8 0 19.1l225.1 225c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.3-5.3 5.3-13.8 0-19.1l-215.4-215.5z"></path></svg></button>')}}(t),d(t,a),function(a){a.find(".carousel__control-right").click(function(){e(a)}),a.find(".carousel__control-left").click(function(){_(a)}),a.on("swipeleft",function(t){l(a).moreRight&&e(a)}),a.on("swiperight",function(t){l(a).moreLeft&&_(a)})}(t)):t.addClass("no-controls").removeClass("has-controls"),u(o,i)})})}}}(),jQuery(document).ready(function(){METMUSEUM.carousel.init()});
var METMUSEUM=METMUSEUM||{};METMUSEUM.utilityMenu=function(){var e=jQuery(".artwork__share--button"),n=jQuery(".artwork__sharetool--copy-link"),o=jQuery(".artwork__sharetools");function t(){e.toggleClass("active"),o.toggleClass("show")}return{init:function(){e.click(function(){t(),jQuery("html").click(function(e){0==jQuery(e.target).parents(".artwork__interaction--share").length&&(t(),jQuery(this).unbind(e))})}),n.click(function(e){e.preventDefault(),function(){o.animate({paddingTop:"35px"},300,function(){o.addClass("link-copied")});var e=document.querySelector(".copy-link__to-copy"),n=document.createRange();n.selectNode(e),window.getSelection().addRange(n),document.execCommand("copy"),window.getSelection().removeAllRanges();var t=document.createRange();t.selectNode(e),window.getSelection().addRange(t),document.execCommand("copy"),window.getSelection().removeAllRanges(),setTimeout(function(){o.removeClass("link-copied"),o.animate({paddingTop:"7px"},300)},3e3)}(jQuery(this).data("link"))})}}}(),jQuery(document).ready(function(){METMUSEUM.utilityMenu.init()});
var METMUSEUM=METMUSEUM||{};METMUSEUM.accordion=function(){function n(e){var n=e.find(".accordion__header");e.find(".accordion__content").slideToggle(200,function(){e.toggleClass("accordion-opened")}),"true"===n.attr("aria-expanded")?(n.attr("aria-expanded","false"),n.attr("aria-selected","false")):(n.attr("aria-expanded","true"),n.attr("aria-selected","true"))}return{init:function(){jQuery.noConflict(),jQuery(".accordion__header").click(function(){n(jQuery(this).closest(".accordion"))}),jQuery(".accordion__header").keypress(function(e){13==e.which&&n(jQuery(this).closest(".accordion"))})},handleAccordion:n}}(),jQuery(document).ready(function(){METMUSEUM.accordion.init()});
!function(v,i,e){function h(i){var a=Math.floor(i/3600),e=Math.floor(i%3600/60),t=Math.ceil(i%3600%60);return(0==a?"":0<a&&a.toString().length<2?"0"+a+":":a+":")+(e.toString().length<2?"0"+e:e)+":"+(t.toString().length<2?"0"+t:t)}function m(i){var a=e.createElement("audio");return!(!a.canPlayType||!a.canPlayType("audio/"+i.split(".").pop().toLowerCase()+";").replace(/no/,""))}var g="ontouchstart"in i,P=g?"touchstart":"mousedown",b=g?"touchmove":"mousemove",C=g?"touchcancel":"mouseup";v.fn.metAudioPlayer=function(p){p=v.extend({classPrefix:"met-audio-player",strPlay:"",strPause:""},p);var y={},i={playPause:"playpause",playing:"playing",time:"time",timeCurrent:"time-current",timeDuration:"time-duration",bar:"bar",barLoaded:"bar-loaded",barPlayed:"bar-played",mini:"mini",divider:"time-divider"};for(var a in i)y[a]=p.classPrefix+"-"+i[a];return this.each(function(){if("audio"!=v(this).prop("tagName").toLowerCase())return!1;var i=v(this),a=i.attr("src"),e=""===(e=i.get(0).getAttribute("autoplay"))||"autoplay"===e,t=!1;void 0===a?i.find("source").each(function(){if(void 0!==(a=v(this).attr("src"))&&m(a))return!(t=!0)}):m(a)&&(t=!0);var n=v('<div class="'+p.classPrefix+'">'+(t?v("<div>").append(i.eq(0).clone()).html():'<embed src="'+a+'" width="0" height="0" volume="100" autostart="'+e.toString()+'" />')+"</div>"),r=(r=t?n.find("audio"):n.find("embed")).get(0);if(t){n.find("audio").css({width:0,height:0,visibility:"hidden"}),n.append('<div class="'+y.bar+'"><div class="'+y.barLoaded+'"></div><div class="'+y.barPlayed+'"></div></div><div class="'+y.time+" "+y.timeCurrent+'"></div><div class="'+y.time+" "+y.divider+'"> / </div><div class="'+y.time+" "+y.timeDuration+'"></div></div></div></div></div>');function d(i){theRealEvent=g?i.originalEvent.touches[0]:i,r.currentTime=Math.round(r.duration*(theRealEvent.pageX-o.offset().left)/o.width())}var o=n.find("."+y.bar),u=n.find("."+y.barPlayed),s=n.find("."+y.barLoaded),l=n.find("."+y.timeCurrent),c=n.find("."+y.timeDuration),f=setInterval(function(){0<r.buffered.length&&(s.width(r.buffered.end(0)/r.duration*100+"%"),r.buffered.end(0)>=r.duration&&clearInterval(f))},100);c.html("&hellip;"),l.text(h(0)),r.addEventListener("loadeddata",function(){c.text(h(r.duration))}),r.addEventListener("timeupdate",function(){l.text(h(r.currentTime)),u.width(r.currentTime/r.duration*100+"%")}),r.addEventListener("ended",function(){n.removeClass(y.playing)}),o.on(P,function(i){d(i),o.on(b,function(i){d(i)})}).on(C,function(){o.unbind(b)})}else n.addClass(y.mini);e&&n.addClass(y.playing),n.find("."+y.playPause).on("click",function(){return n.hasClass(y.playing)?(v(this).attr("title",p.strPlay).find("a").html(p.strPlay),n.removeClass(y.playing),t?r.pause():r.Stop()):(v(this).attr("title",p.strPause).find("a").html(p.strPause),n.addClass(y.playing),t?r.play():r.Play()),!1}),i.replaceWith(n)}),this}}(jQuery,window,document),jQuery(function(){jQuery(".met-audio audio").metAudioPlayer()});var METMUSEUM=METMUSEUM||{};METMUSEUM.metAudioPlayer=function(){function e(i){i.addClass("is-paused").removeClass("is-playing").find("audio")[0].pause(),i.find(".audioplayer").removeClass("audioplayer-playing"),i.find(".artwork-audio-play-n-pause").attr("aria-pressed","false")}return{init:function(){jQuery.noConflict(),jQuery(".artwork-audio-item__title, .artwork-audio-play-n-pause").click(function(){var i,a=jQuery(this).closest(".artwork-audio-item");((i=a).hasClass("is-playing")?e:function(i){jQuery(".artwork-audio-item").each(function(){var i=jQuery(this);i.hasClass("is-playing")&&e(i)}),i.addClass("is-playing").removeClass("is-paused").find("audio")[0].play(),i.find(".audioplayer").addClass("audioplayer-playing"),i.find(".artwork-audio-play-n-pause").attr("aria-pressed","true")})(i)}),jQuery(".artwork-audio-item").each(function(i){var a=jQuery(this),e=a.height();54<e&&a.height(e)})}}}(),jQuery(document).ready(function(){METMUSEUM.metAudioPlayer.init()});
var METMUSEUM=METMUSEUM||{};METMUSEUM.translationNav={init:function(){jQuery.noConflict(),jQuery("#translations__select").change(function(){var n=jQuery("#translations__select option:selected").val();window.location.href=n})}},jQuery(document).ready(function(){METMUSEUM.translationNav.init()});